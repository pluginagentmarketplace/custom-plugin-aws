{
    "TableName": "ECommerceData",
    "Description": "Single-table design for e-commerce application",
    "KeySchema": {
        "PartitionKey": "PK",
        "SortKey": "SK"
    },
    "AccessPatterns": [
        {
            "name": "Get user by ID",
            "pk": "USER#<userId>",
            "sk": "PROFILE"
        },
        {
            "name": "Get user's orders",
            "pk": "USER#<userId>",
            "sk": "begins_with ORDER#"
        },
        {
            "name": "Get order by ID",
            "pk": "ORDER#<orderId>",
            "sk": "DETAILS"
        },
        {
            "name": "Get order items",
            "pk": "ORDER#<orderId>",
            "sk": "begins_with ITEM#"
        },
        {
            "name": "Get product by ID",
            "pk": "PRODUCT#<productId>",
            "sk": "DETAILS"
        },
        {
            "name": "Get products by category",
            "gsi": "GSI1",
            "pk": "CATEGORY#<category>",
            "sk": "PRODUCT#<productId>"
        }
    ],
    "EntityExamples": {
        "User": {
            "PK": "USER#123",
            "SK": "PROFILE",
            "EntityType": "User",
            "UserId": "123",
            "Email": "user@example.com",
            "Name": "John Doe",
            "CreatedAt": "2024-01-01T00:00:00Z"
        },
        "Order": {
            "PK": "USER#123",
            "SK": "ORDER#456",
            "EntityType": "Order",
            "OrderId": "456",
            "UserId": "123",
            "Status": "PENDING",
            "Total": 99.99,
            "CreatedAt": "2024-01-15T10:30:00Z",
            "GSI1PK": "ORDER#456",
            "GSI1SK": "DETAILS"
        },
        "OrderItem": {
            "PK": "ORDER#456",
            "SK": "ITEM#789",
            "EntityType": "OrderItem",
            "ProductId": "789",
            "Quantity": 2,
            "Price": 49.99
        },
        "Product": {
            "PK": "PRODUCT#789",
            "SK": "DETAILS",
            "EntityType": "Product",
            "ProductId": "789",
            "Name": "Widget",
            "Price": 49.99,
            "Category": "Electronics",
            "GSI1PK": "CATEGORY#Electronics",
            "GSI1SK": "PRODUCT#789"
        }
    },
    "GlobalSecondaryIndexes": [
        {
            "IndexName": "GSI1",
            "KeySchema": {
                "PartitionKey": "GSI1PK",
                "SortKey": "GSI1SK"
            },
            "Purpose": "Inverted index for alternate access patterns"
        }
    ]
}

# AWS Infrastructure Configuration Template
# Use with Terraform, CloudFormation, or AWS CDK

aws:
  region: us-east-1
  account_id: "123456789012"
  environment: development  # development, staging, production

  vpc:
    cidr_block: "10.0.0.0/16"
    enable_dns_hostnames: true
    enable_dns_support: true
    subnets:
      public:
        - cidr: "10.0.1.0/24"
          az: "us-east-1a"
        - cidr: "10.0.2.0/24"
          az: "us-east-1b"
      private:
        - cidr: "10.0.10.0/24"
          az: "us-east-1a"
        - cidr: "10.0.20.0/24"
          az: "us-east-1b"

  ec2:
    instance_type: t3.medium
    ami_id: ami-0123456789abcdef0  # Amazon Linux 2
    key_name: my-key-pair
    security_groups:
      - web-sg
      - ssh-sg
    tags:
      Environment: development
      Project: my-app

  rds:
    engine: postgres
    engine_version: "14.7"
    instance_class: db.t3.medium
    allocated_storage: 20
    max_allocated_storage: 100
    multi_az: false
    backup_retention_period: 7
    deletion_protection: false

  s3:
    buckets:
      - name: my-app-assets
        versioning: true
        encryption: AES256
        lifecycle_rules:
          - id: expire-old-versions
            status: Enabled
            noncurrent_version_expiration:
              days: 30

  lambda:
    runtime: python3.11
    memory_size: 256
    timeout: 30
    environment_variables:
      LOG_LEVEL: INFO
      ENVIRONMENT: development

  cloudwatch:
    log_retention_days: 14
    alarms:
      cpu_high:
        threshold: 80
        period: 300
        evaluation_periods: 2
      memory_high:
        threshold: 85
        period: 300
        evaluation_periods: 2

  iam:
    policies:
      - name: app-policy
        actions:
          - s3:GetObject
          - s3:PutObject
          - dynamodb:GetItem
          - dynamodb:PutItem
        resources:
          - "arn:aws:s3:::my-app-*"
          - "arn:aws:dynamodb:*:*:table/my-app-*"

azure:
  location: eastus
  resource_group: my-app-rg

  app_service:
    sku: B1
    always_on: true

  cosmos_db:
    kind: GlobalDocumentDB
    consistency_level: Session

gcp:
  project_id: my-project-id
  region: us-central1

  cloud_run:
    cpu: "1"
    memory: "512Mi"
    max_instances: 10

  cloud_sql:
    tier: db-f1-micro
    database_version: POSTGRES_14
